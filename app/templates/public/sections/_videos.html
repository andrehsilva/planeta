{# Início da Lógica de Vídeos #}
{% set videos = [] %}
{% if content.videos_section_video1 %}{% set _ = videos.append(content.videos_section_video1) %}{% endif %}
{% if content.videos_section_video2 %}{% set _ = videos.append(content.videos_section_video2) %}{% endif %}
{% if content.videos_section_video3 %}{% set _ = videos.append(content.videos_section_video3) %}{% endif %}
{% set video_count = videos|length %}

<section class="py-20 bg-slate-50">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    
    {% if content.videos_section_title %}
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-extrabold text-gray-900">{{ content.videos_section_title }}</h2>
    </div>
    {% endif %}

    {# O container principal muda de classe com base no número de vídeos #}
    {% if video_count > 0 %}
    <div class="
        {% if video_count == 1 %}
            flex justify-center
        {% elif video_count == 2 %}
            grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto
        {% else %}
            grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto
        {% endif %}
    ">
      
      {# Um único loop renderiza todos os vídeos disponíveis #}
      {% for video_filename in videos %}
        <div class="
            {% if video_count == 1 %}
              w-full max-w-3xl {# Se for apenas um vídeo, ele fica maior #}
            {% endif %}
        ">
          <div class="rounded-2xl overflow-hidden shadow-lg aspect-video bg-black">
            <video controls class="w-full h-full object-cover">
              <!-- CORREÇÃO APLICADA AQUI -->
              <source src="/media/{{ video_filename }}" type="video/mp4">
              Seu navegador não suporta o elemento de vídeo.
            </video>
          </div>
        </div>
      {% endfor %}

    </div>
    {% endif %}

  </div>
</section>

